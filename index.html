<!--
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Plan your UIUC Courses confindently with IlliniPlan">
        <meta name="author" content="George Angelov">
        <title>IlliniPlan</title>
        <link rel="icon" type="image/x-icon" href="university-of-illinois-1.svg">
    </head>
    <body>
        <h1>IlliniPlan</h1>
        <p>Welcome to ILLINIPlan! Enter you major, any minor(s), concentration(s) etc. Select how many years you anticipate it will take to graduate and then enter your classes! Once you have finished your plan, you can save it as well as verify if your plan fulfills all the requirments of your major, minor(s), and concentrion(s)!</p>
        
            <label for="major">Select Your Major:</label>
            <div id="major-selectors">
                <select id="major1" class="major-dropdown">
                    <option value="">--Choose a major--</option>
                </select>
                <div id="concentration-container" style="display:none; margin-top:10px;">
                    <label for="concentration">Select Your Concentration:</label>
                    <select id="concentration">
                        <option value="">--Choose a concentration--</option>
                    </select>
                </div>
            </div>
            <button id="add-major-btn">+</button>
            <script src="majors.js"></script>

            <br> 
            <label for="minor">Select Your Minor:</label>
            <div id="minor-selectors">
                <select id="minor1" class="minor-dropdown">
                    <option value="">--Choose a minor--</option>
                </select>
            </div>
            <button id="add-minor-btn">+</button>
            <script src="minors.js"></script>
        </section>
    </body>
</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IlliniPlan</title>
    <link rel="stylesheet" href="style.css">
</head>

<script src="courses.js"></script>
<script src="majors.js"></script>
<script src="minors.js"></script>
<script src="main.js"></script>

<body>
    <div class="container">
        <div class="header">
            <h1>üéì UIUC Degree Planner</h1>
            <p>Plan your academic journey and validate degree requirements</p>
        </div>

        <div class="setup-section">
            <h2>üìù Academic Information</h2>
            <div class="form-row">
                <div class="form-col">
                    <label for="major-select">Major:</label>
                    <select id="major-select">
                        <option value="">Select your major</option>
                    </select>
                </div>
                <div class="form-col">
                    <label for="minor-select">Minor (Optional):</label>
                    <select id="minor-select">
                        <option value="">Select a minor</option>
                    </select>
                </div>
                <div class="form-col">
                    <label for="plan-length">Plan Duration:</label>
                    <select id="plan-length">
                        <option value="4">4 Years</option>
                        <option value="5">5 Years</option>
                        <option value="6">6 Years</option>
                    </select>
                </div>
            </div>
            <button class="btn" onclick="generatePlan()">Create Plan</button>
            <button class="btn btn-secondary" onclick="exportPlan()">Export Plan</button>
            <button class="btn btn-secondary" onclick="importPlan()">Import Plan</button>
        </div>

        <div class="course-search" id="course-search" style="display: none;">
            <input type="text" id="search-input" placeholder="Search for courses (e.g., CS 225, MATH 220)...">
            <div class="search-results" id="search-results"></div>
        </div>

        <div class="summary-stats" id="summary-stats" style="display: none;">
            <div class="stat-card">
                <div class="stat-number" id="total-credits">0</div>
                <div class="stat-label">Total Credits</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="major-credits">0</div>
                <div class="stat-label">Major Credits</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="gen-ed-credits">0</div>
                <div class="stat-label">Gen Ed Credits</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="elective-credits">0</div>
                <div class="stat-label">Elective Credits</div>
            </div>
        </div>

        <div class="planner-grid" id="planner-grid"></div>

        <div class="validation-panel" id="validation-panel" style="display: none;">
            <h2>üéØ Degree Requirements Validation</h2>
            <div id="validation-results"></div>
        </div>
    </div>

    <div id="course-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Add Course</h2>
            <div class="course-search">
                <input type="text" id="modal-search" placeholder="Search for courses...">
                <div class="search-results" id="modal-search-results"></div>
            </div>
        </div>
    </div>

    <script>
        // Sample course data
        const courses = {
            "CS 101": { name: "Intro to Computer Science", credits: 3, category: "major", prerequisites: [] },
            "CS 125": { name: "Intro to Computer Science", credits: 4, category: "major", prerequisites: [] },
            "CS 173": { name: "Discrete Structures", credits: 3, category: "major", prerequisites: ["CS 125"] },
            "CS 225": { name: "Data Structures", credits: 4, category: "major", prerequisites: ["CS 125"] },
            "CS 233": { name: "Computer Architecture", credits: 4, category: "major", prerequisites: ["CS 125"] },
            "CS 241": { name: "System Programming", credits: 4, category: "major", prerequisites: ["CS 225"] },
            "CS 374": { name: "Algorithms & Models", credits: 4, category: "major", prerequisites: ["CS 173", "CS 225"] },
            "MATH 220": { name: "Calculus", credits: 5, category: "math", prerequisites: [] },
            "MATH 221": { name: "Calculus II", credits: 3, category: "math", prerequisites: ["MATH 220"] },
            "MATH 231": { name: "Calculus III", credits: 3, category: "math", prerequisites: ["MATH 221"] },
            "PHYS 211": { name: "University Physics I", credits: 4, category: "science", prerequisites: ["MATH 220"] },
            "PHYS 212": { name: "University Physics II", credits: 4, category: "science", prerequisites: ["PHYS 211"] },
            "ENGL 101": { name: "Composition I", credits: 3, category: "general", prerequisites: [] },
            "ENGL 102": { name: "Composition II", credits: 3, category: "general", prerequisites: ["ENGL 101"] },
            "CHEM 102": { name: "General Chemistry I", credits: 3, category: "science", prerequisites: [] },
            "CHEM 103": { name: "General Chemistry I Lab", credits: 1, category: "science", prerequisites: [] },
            "ECE 210": { name: "Analog Signal Processing", credits: 4, category: "engineering", prerequisites: ["MATH 221"] },
            "IE 300": { name: "Analysis of Data", credits: 3, category: "math", prerequisites: ["MATH 221"] }
        };

        // Sample major requirements
        const majors = {
            "Computer Science": {
                required_courses: ["CS 125", "CS 173", "CS 225", "CS 233", "CS 241", "CS 374"],
                math_requirements: ["MATH 220", "MATH 221", "MATH 231"],
                science_requirements: ["PHYS 211", "PHYS 212"],
                general_requirements: ["ENGL 101", "ENGL 102"],
                electives: 12,
                total_credits: 128
            },
            "Electrical Engineering": {
                required_courses: ["ECE 110", "ECE 120", "ECE 210", "ECE 220"],
                math_requirements: ["MATH 220", "MATH 221", "MATH 231"],
                science_requirements: ["PHYS 211", "PHYS 212", "CHEM 102", "CHEM 103"],
                general_requirements: ["ENGL 101", "ENGL 102"],
                electives: 15,
                total_credits: 128
            },
            "Mathematics": {
                required_courses: ["MATH 220", "MATH 221", "MATH 231", "MATH 241", "MATH 347", "MATH 348"],
                math_requirements: [],
                science_requirements: ["PHYS 211", "PHYS 212"],
                general_requirements: ["ENGL 101", "ENGL 102"],
                electives: 18,
                total_credits: 120
            }
        };

        // Sample minor requirements
        const minors = {
            "Mathematics": {
                required_courses: ["MATH 220", "MATH 221", "MATH 231"],
                electives: 6,
                total_credits: 20
            },
            "Business": {
                required_courses: ["ECON 102", "ECON 103", "ACCY 201"],
                electives: 9,
                total_credits: 18
            },
            "Statistics": {
                required_courses: ["STAT 200", "STAT 400", "IE 300"],
                electives: 6,
                total_credits: 18
            }
        };

        let currentPlan = {};
        let selectedSemester = null;
        let planGenerated = false;

        // Initialize the application
        function init() {
            populateMajors();
            populateMinors();
            setupEventListeners();
        }

        function populateMajors() {
            const majorSelect = document.getElementById('major-select');
            Object.keys(majors).forEach(major => {
                const option = document.createElement('option');
                option.value = major;
                option.textContent = major;
                majorSelect.appendChild(option);
            });
        }

        function populateMinors() {
            const minorSelect = document.getElementById('minor-select');
            Object.keys(minors).forEach(minor => {
                const option = document.createElement('option');
                option.value = minor;
                option.textContent = minor;
                minorSelect.appendChild(option);
            });
        }

        function setupEventListeners() {
            const searchInput = document.getElementById('search-input');
            const modalSearch = document.getElementById('modal-search');
            
            searchInput.addEventListener('input', handleSearch);
            modalSearch.addEventListener('input', handleModalSearch);
            
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.course-search')) {
                    document.getElementById('search-results').style.display = 'none';
                    document.getElementById('modal-search-results').style.display = 'none';
                }
            });
        }

        function generatePlan() {
            const major = document.getElementById('major-select').value;
            const planLength = document.getElementById('plan-length').value;
            
            if (!major) {
                alert('Please select a major first!');
                return;
            }

            currentPlan = {};
            const grid = document.getElementById('planner-grid');
            grid.innerHTML = '';

            // Generate semesters
            for (let year = 1; year <= parseInt(planLength); year++) {
                for (let semester of ['Fall', 'Spring']) {
                    const semesterKey = `${semester} ${year}`;
                    currentPlan[semesterKey] = [];
                    createSemesterElement(semesterKey);
                }
            }

            document.getElementById('course-search').style.display = 'block';
            document.getElementById('summary-stats').style.display = 'grid';
            document.getElementById('validation-panel').style.display = 'block';
            
            planGenerated = true;
            updateSummary();
            validateRequirements();
        }

        function createSemesterElement(semesterKey) {
            const grid = document.getElementById('planner-grid');
            const semesterDiv = document.createElement('div');
            semesterDiv.className = 'semester';
            semesterDiv.innerHTML = `
                <div class="semester-header">${semesterKey}</div>
                <div class="course-slot" onclick="openModal('${semesterKey}')">+ Add Course</div>
                <div class="course-slot" onclick="openModal('${semesterKey}')">+ Add Course</div>
                <div class="course-slot" onclick="openModal('${semesterKey}')">+ Add Course</div>
                <div class="course-slot" onclick="openModal('${semesterKey}')">+ Add Course</div>
                <div class="course-slot" onclick="openModal('${semesterKey}')">+ Add Course</div>
                <div class="course-slot" onclick="openModal('${semesterKey}')">+ Add Course</div>
            `;
            grid.appendChild(semesterDiv);
        }

        function openModal(semesterKey) {
            selectedSemester = semesterKey;
            document.getElementById('course-modal').style.display = 'block';
            document.getElementById('modal-search').focus();
        }

        function closeModal() {
            document.getElementById('course-modal').style.display = 'none';
            document.getElementById('modal-search').value = '';
            document.getElementById('modal-search-results').innerHTML = '';
        }

        function handleSearch(event) {
            const query = event.target.value.toLowerCase();
            const resultsDiv = document.getElementById('search-results');
            
            if (query.length === 0) {
                resultsDiv.style.display = 'none';
                return;
            }

            const results = Object.keys(courses).filter(courseCode => 
                courseCode.toLowerCase().includes(query) ||
                courses[courseCode].name.toLowerCase().includes(query)
            ).slice(0, 10);

            if (results.length > 0) {
                resultsDiv.innerHTML = results.map(courseCode => `
                    <div class="search-result-item" onclick="quickAddCourse('${courseCode}')">
                        <strong>${courseCode}</strong> - ${courses[courseCode].name} (${courses[courseCode].credits} credits)
                    </div>
                `).join('');
                resultsDiv.style.display = 'block';
            } else {
                resultsDiv.style.display = 'none';
            }
        }

        function handleModalSearch(event) {
            const query = event.target.value.toLowerCase();
            const resultsDiv = document.getElementById('modal-search-results');
            
            if (query.length === 0) {
                resultsDiv.style.display = 'none';
                return;
            }

            const results = Object.keys(courses).filter(courseCode => 
                courseCode.toLowerCase().includes(query) ||
                courses[courseCode].name.toLowerCase().includes(query)
            ).slice(0, 10);

            if (results.length > 0) {
                resultsDiv.innerHTML = results.map(courseCode => `
                    <div class="search-result-item" onclick="addCourse('${courseCode}')">
                        <strong>${courseCode}</strong> - ${courses[courseCode].name} (${courses[courseCode].credits} credits)
                    </div>
                `).join('');
                resultsDiv.style.display = 'block';
            } else {
                resultsDiv.style.display = 'none';
            }
        }

        function quickAddCourse(courseCode) {
            // Find first available semester slot
            for (let semesterKey of Object.keys(currentPlan)) {
                if (currentPlan[semesterKey].length < 6) {
                    currentPlan[semesterKey].push(courseCode);
                    updateSemesterDisplay(semesterKey);
                    updateSummary();
                    validateRequirements();
                    document.getElementById('search-input').value = '';
                    document.getElementById('search-results').style.display = 'none';
                    return;
                }
            }
            alert('All semesters are full! Please remove a course first.');
        }

        function addCourse(courseCode) {
            if (!selectedSemester) return;
            
            if (currentPlan[selectedSemester].length >= 6) {
                alert('This semester is full!');
                return;
            }
            
            currentPlan[selectedSemester].push(courseCode);
            updateSemesterDisplay(selectedSemester);
            updateSummary();
            validateRequirements();
            closeModal();
        }

        function removeCourse(semesterKey, courseIndex) {
            currentPlan[semesterKey].splice(courseIndex, 1);
            updateSemesterDisplay(semesterKey);
            updateSummary();
            validateRequirements();
        }

        function updateSemesterDisplay(semesterKey) {
            const semesterIndex = Object.keys(currentPlan).indexOf(semesterKey);
            const semesterDiv = document.querySelectorAll('.semester')[semesterIndex];
            const slots = semesterDiv.querySelectorAll('.course-slot');
            
            // Update existing courses
            currentPlan[semesterKey].forEach((courseCode, index) => {
                if (slots[index]) {
                    const course = courses[courseCode];
                    slots[index].innerHTML = `
                        <div class="course-info">
                            <div class="course-code">${courseCode}</div>
                            <div class="course-name">${course.name}</div>
                        </div>
                        <div class="course-credits">${course.credits}</div>
                        <button class="remove-course" onclick="removeCourse('${semesterKey}', ${index})">&times;</button>
                    `;
                    slots[index].className = 'course-slot course-filled';
                }
            });
            
            // Reset empty slots
            for (let i = currentPlan[semesterKey].length; i < slots.length; i++) {
                slots[i].innerHTML = '+ Add Course';
                slots[i].className = 'course-slot';
                slots[i].onclick = () => openModal(semesterKey);
            }
        }

        function updateSummary() {
            if (!planGenerated) return;
            
            let totalCredits = 0;
            let majorCredits = 0;
            let genEdCredits = 0;
            let electiveCredits = 0;
            
            const major = document.getElementById('major-select').value;
            const majorReqs = majors[major];
            
            Object.values(currentPlan).flat().forEach(courseCode => {
                const course = courses[courseCode];
                if (course) {
                    totalCredits += course.credits;
                    
                    if (majorReqs.required_courses.includes(courseCode) || 
                        majorReqs.math_requirements.includes(courseCode) ||
                        majorReqs.science_requirements.includes(courseCode)) {
                        majorCredits += course.credits;
                    } else if (majorReqs.general_requirements.includes(courseCode)) {
                        genEdCredits += course.credits;
                    } else {
                        electiveCredits += course.credits;
                    }
                }
            });
            
            document.getElementById('total-credits').textContent = totalCredits;
            document.getElementById('major-credits').textContent = majorCredits;
            document.getElementById('gen-ed-credits').textContent = genEdCredits;
            document.getElementById('elective-credits').textContent = electiveCredits;
        }

        function validateRequirements() {
            if (!planGenerated) return;
            
            const major = document.getElementById('major-select').value;
            const minor = document.getElementById('minor-select').value;
            const resultsDiv = document.getElementById('validation-results');
            
            const allCourses = Object.values(currentPlan).flat();
            const majorReqs = majors[major];
            let validationHTML = '';
            
            // Major requirements
            validationHTML += '<div class="requirement-group"><h3>Major Requirements</h3>';
            
            // Required courses
            validationHTML += '<div class="requirement-item">';
            validationHTML += '<span>Major Required Courses</span>';
            const completedRequired = majorReqs.required_courses.filter(course => allCourses.includes(course));
            const requiredStatus = completedRequired.length === majorReqs.required_courses.length ? 'complete' : 
                                 completedRequired.length > 0 ? 'partial' : 'incomplete';
            validationHTML += `<span class="status-badge status-${requiredStatus}">${completedRequired.length}/${majorReqs.required_courses.length}</span>`;
            validationHTML += '</div>';
            
            /*// Math requirements
            validationHTML += '<div class="requirement-item">';
            validationHTML += '<span>Math Requirements</span>';
            const completedMath = majorReqs.math_requirements.filter(course => allCourses.includes(course));
            const mathStatus = completedMath.length === majorReqs.math_requirements.length ? 'complete' : 
                              completedMath.length > 0 ? 'partial' : 'incomplete';
            validationHTML += `<span class="status-badge status-${mathStatus}">${completedMath.length}/${majorReqs.math_requirements.length}</span>`;
            validationHTML += '</div>';
            
            // Science requirements
            validationHTML += '<div class="requirement-item">';
            validationHTML += '<span>Science Requirements</span>';
            const completedScience = majorReqs.science_requirements.filter(course => allCourses.includes(course));
            const scienceStatus = completedScience.length === majorReqs.science_requirements.length ? 'complete' : 
                                 completedScience.length > 0 ? 'partial' : 'incomplete';
            validationHTML += `<span class="status-badge status-${scienceStatus}">${completedScience.length}/${majorReqs.science_requirements.length}</span>`;
            validationHTML += '</div>';*/
            
            // Gen Ed. requirements
            validationHTML += '<div class="requirement-item">';
            validationHTML += '<span>General Education</span>';
            const completedGeneral = majorReqs.general_requirements.filter(course => allCourses.includes(course));
            const generalStatus = completedGeneral.length === majorReqs.general_requirements.length ? 'complete' : 
                                 completedGeneral.length > 0 ? 'partial' : 'incomplete';
            validationHTML += `<span class="status-badge status-${generalStatus}">${completedGeneral.length}/${majorReqs.general_requirements.length}</span>`;
            validationHTML += '</div>';
            
            // Total credits
            const totalCredits = allCourses.reduce((sum, courseCode) => 
            { 
                return sum + (courses[courseCode] ? courses[courseCode].credits : 0); 
            }, 0);
            validationHTML += '<div class="requirement-item">';
            validationHTML += '<span>Total Credits</span>';
            const creditStatus = totalCredits >= majorReqs.total_credits ? 'complete' : 
                               totalCredits >= majorReqs.total_credits * 0.75 ? 'partial' : 'incomplete';
            validationHTML += `<span class="status-badge status-${creditStatus}">${totalCredits}/${majorReqs.total_credits}</span>`;
            validationHTML += '</div>';
            
            validationHTML += '</div>';
            
            // Minor requirements (if selected)
            if (minor && minors[minor]) {
                const minorReqs = minors[minor];
                validationHTML += '<div class="requirement-group"><h3>Minor Requirements</h3>';
                
                validationHTML += '<div class="requirement-item">';
                validationHTML += '<span>Required Courses</span>';
                const completedMinorRequired = minorReqs.required_courses.filter(course => allCourses.includes(course));
                const minorRequiredStatus = completedMinorRequired.length === minorReqs.required_courses.length ? 'complete' : 
                                          completedMinorRequired.length > 0 ? 'partial' : 'incomplete';
                validationHTML += `<span class="status-badge status-${minorRequiredStatus}">${completedMinorRequired.length}/${minorReqs.required_courses.length}</span>`;
                validationHTML += '</div>';
                
                const minorCredits = allCourses.reduce((sum, courseCode) => {
                    if (minorReqs.required_courses.includes(courseCode) && courses[courseCode]) {
                        return sum + courses[courseCode].credits;
                    }
                    return sum;
                }, 0);
                
                validationHTML += '<div class="requirement-item">';
                validationHTML += '<span>Total Minor Credits</span>';
                const minorCreditStatus = minorCredits >= minorReqs.total_credits ? 'complete' : 
                                        minorCredits >= minorReqs.total_credits * 0.75 ? 'partial' : 'incomplete';
                validationHTML += `<span class="status-badge status-${minorCreditStatus}">${minorCredits}/${minorReqs.total_credits}</span>`;
                validationHTML += '</div>';
                
                validationHTML += '</div>';
            }
            
            resultsDiv.innerHTML = validationHTML;
        }

        function exportPlan() {
            if (!planGenerated) {
                alert('Please generate a plan first!');
                return;
            }
            
            const major = document.getElementById('major-select').value;
            const minor = document.getElementById('minor-select').value;
            const planLength = document.getElementById('plan-length').value;
            
            const exportData = {
                major: major,
                minor: minor,
                planLength: planLength,
                plan: currentPlan,
                timestamp: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `UIUC_Degree_Plan_${major.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }

        function importPlan() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const importData = JSON.parse(e.target.result);
                            
                            // Set form values
                            document.getElementById('major-select').value = importData.major || '';
                            document.getElementById('minor-select').value = importData.minor || '';
                            document.getElementById('plan-length').value = importData.planLength || '4';
                            
                            // Load plan data
                            currentPlan = importData.plan || {};
                            
                            // Generate the visual plan
                            generatePlan();
                            
                            // Update displays for imported courses
                            Object.keys(currentPlan).forEach(semesterKey => {
                                updateSemesterDisplay(semesterKey);
                            });
                            
                            updateSummary();
                            validateRequirements();
                            
                            alert('Plan imported successfully!');
                        } catch (error) {
                            alert('Error importing plan. Please check the file format.');
                            console.error('Import error:', error);
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        // Check for prerequisites
        function checkPrerequisites(courseCode, semesterKey) {
            const course = courses[courseCode];
            if (!course || !course.prerequisites.length) return true;
            
            const semesterKeys = Object.keys(currentPlan);
            const currentSemesterIndex = semesterKeys.indexOf(semesterKey);
            
            // Check all previous semesters
            for (let i = 0; i < currentSemesterIndex; i++) {
                const prevSemesterCourses = currentPlan[semesterKeys[i]];
                const completedPrereqs = course.prerequisites.filter(prereq => 
                    prevSemesterCourses.includes(prereq)
                );
                if (completedPrereqs.length === course.prerequisites.length) {
                    return true;
                }
            }
            
            return false;
        }

        // Enhanced course search with prerequisite checking
        function addCourseWithValidation(courseCode) {
            if (!selectedSemester) return;
            
            if (currentPlan[selectedSemester].length >= 6) {
                alert('This semester is full!');
                return;
            }
            
            // Check for duplicates
            const allCourses = Object.values(currentPlan).flat();
            if (allCourses.includes(courseCode)) {
                alert('This course is already in your plan!');
                return;
            }
            
            // Check prerequisites
            if (!checkPrerequisites(courseCode, selectedSemester)) {
                const course = courses[courseCode];
                const prereqList = course.prerequisites.join(', ');
                const confirmAdd = confirm(`Warning: Prerequisites not met for ${courseCode}.\nRequired: ${prereqList}\n\nAdd anyway?`);
                if (!confirmAdd) return;
            }
            
            currentPlan[selectedSemester].push(courseCode);
            updateSemesterDisplay(selectedSemester);
            updateSummary();
            validateRequirements();
            closeModal();
        }

        // Initialize when page loads
        window.addEventListener('DOMContentLoaded', init);

        // Modal click outside to close
        window.onclick = function(event) {
            const modal = document.getElementById('course-modal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>